(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{RRHj:function(e,t,n){"use strict";n.r(t);n("aMK7");var a=n("NgbC"),i=(n("W3ek"),n("3N2t")),r=n("43Yg"),l=n.n(r),s=n("/tCh"),o=n.n(s),c=n("scpF"),d=n.n(c),u=n("O/V9"),h=n.n(u),p=n("8aBX"),f=n.n(p),m=n("i9FB"),v=n.n(m),k=(n("pOT0"),n("/3qE")),y=(n("I1Ti"),n("r3a+")),b=(n("vIZV"),n("2Rzi")),g=(n("q/pJ"),n("/Xzs")),C=g["a"].TreeNode,E=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(i))),n.state={menus:[],checkedKeys:[]},n.renderTreeNodes=function(e){return e.map(function(e){return e.children?v.a.createElement(C,{title:e.title,key:e._id,dataRef:e},n.renderTreeNodes(e.children)):v.a.createElement(C,e)})},n.handleChecked=function(e){n.setState({checkedKeys:e},function(){var t=JSON.parse(JSON.stringify(n.props.editData));t.permission=e,n.props.changeCheck(t)})},n}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("userInfo")){var t=JSON.parse(localStorage.getItem("userInfo")).menu;this.setState({menus:t},function(){e.setState({checkedKeys:e.props.editData.permission})})}}},{key:"render",value:function(){return v.a.createElement("div",{style:{padding:20}},v.a.createElement(g["a"],{checkable:!0,showLine:!0,blockNode:!0,checkedKeys:this.state.checkedKeys,onCheck:this.handleChecked},this.renderTreeNodes(this.state.menus)))}}]),t}(m["Component"]),S=b["a"].TabPane,D=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(i))),n.state={roles:[{role:"admin",title:"\u8d85\u7ea7\u7ba1\u7406\u5458",permission:["1","2","3"]},{role:"vip",title:"Vip\u7528\u6237",permission:["1","2"]}],tabIndex:"0",editData:null},n.handleDeleteRole=function(){y["a"].confirm({title:"\u5220\u9664\u89d2\u8272",content:"\u786e\u8ba4\u5220\u9664\u8be5\u89d2\u8272\u5417\uff1f",cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onOk:function(){k["a"].success("\u5220\u9664\u6210\u529f")}})},n.handleTabsChange=function(e){n.setState({tabIndex:e,editData:n.state.roles[Number(e)]})},n.handlechangeCheck=function(e){n.setState({editData:e})},n.handleSave=function(){k["a"].success("\u4fdd\u5b58\u6210\u529f".concat(JSON.stringify(n.state.editData)))},n}return f()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.setState({tabIndex:"0",editData:this.state.roles[0]})}},{key:"render",value:function(){var e=this;return v.a.createElement(b["a"],{defaultActiveKey:this.state.tabIndex,tabPosition:"left",tabBarStyle:{width:230},onChange:this.handleTabsChange},this.state.roles.map(function(t,n){return v.a.createElement(S,{tab:v.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.title,v.a.createElement(i["a"],{onClick:e.handleDeleteRole,size:"small",type:"danger"},"\u5220\u9664")),key:n},v.a.createElement("div",{style:{minHeight:500,position:"relative"}},String(n)===e.state.tabIndex?v.a.createElement(E,{defaultIndex:String(n),tabIndex:e.state.tabIndex,editData:e.state.editData,changeCheck:e.handlechangeCheck}):null,v.a.createElement("div",{style:{position:"absolute",width:"100%",bottom:0,left:0,textAlign:"right"}},v.a.createElement(i["a"],{onClick:e.handleSave,type:"primary"},"\u4fdd\u5b58"))))}))}}]),t}(m["Component"]),I=(n("RNnK"),n("Rt+G")),w=(n("oZIX"),n("s6TS")),N=w["a"].Item,O=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(i))),n.onOk=function(){n.props.form.validateFields(function(e,t){e||(k["a"].success(JSON.stringify(t)),n.props.form.resetFields(),n.props.handleOk())})},n.onCancel=function(){n.props.form.resetFields(),n.props.handleCancel()},n}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:14}};return v.a.createElement(y["a"],{title:"\u65b0\u589e\u89d2\u8272",visible:this.props.visible,onCancel:this.onCancel,onOk:this.onOk},v.a.createElement(w["a"],t,v.a.createElement(N,{label:"\u89d2\u8272\u540d\u79f0"},e("roleName",{initialValue:"",rules:[{required:!0,message:"\u89d2\u8272\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(v.a.createElement(I["a"],null))),v.a.createElement(N,{label:"\u89d2\u8272\u4ee3\u53f7"},e("roleCode",{initialValue:"",rules:[{required:!0,message:"\u89d2\u8272\u4ee3\u53f7\u4e0d\u80fd\u4e3a\u7a7a"}]})(v.a.createElement(I["a"],null)))))}}]),t}(m["Component"]),x=w["a"].create()(O);n.d(t,"default",function(){return T});var T=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=d()(this,(e=h()(t)).call.apply(e,[this].concat(i))),n.state={visible:!1},n.handleAdd=function(){n.setState({visible:!0})},n.handleOk=function(){n.setState({visible:!1,editData:null})},n.handleCancel=function(){n.setState({visible:!1,editData:null})},n}return f()(t,e),o()(t,[{key:"render",value:function(){return v.a.createElement(a["a"],{title:"\u6743\u9650\u7ba1\u7406",extra:v.a.createElement(i["a"],{onClick:this.handleAdd,type:"primary",icon:"plus"},"\u65b0\u589e\u89d2\u8272")},v.a.createElement(D,null),v.a.createElement(x,{visible:this.state.visible,handleOk:this.handleOk,handleCancel:this.handleCancel}))}}]),t}(m["Component"])}}]);