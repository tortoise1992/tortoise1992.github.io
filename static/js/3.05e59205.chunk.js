(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1846:function(e,t,n){"use strict";n.r(t);var a=n(37),r=n(38),u=n(40),i=n(39),c=n(41),o=n(1),l=n.n(o),s=n(1847),m=n(1833),d=n(1844),h=(n(940),n(908),n(65)),p=n.n(h),f=n(79),v=n(1848),b=n(918),j=n(924),M=n(926),g=n(927),y=n(53),O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={menus:[],currentMenu:"",majorMenus:[],level2Menus:[],level2MenusOld:[],currentLevel2Menu:"",isShowLevel2Menu:!1},n.componentDidMount=function(){var e=[{id:"0001",title:"达标指标",url:"/dabiao"},{id:"0002",title:"向好指标",url:"/xianghao"},{id:"0003",title:"向差指标",url:"/xiangcha"},{id:"0004",title:"预警指标",url:"/yujing"},{id:"0005",title:"学校层面",url:"/xuexiao"},{id:"0006",title:"教师层面",url:"/jiaoshi"},{id:"0007",title:"学生层面",url:"/xuesheng"},{id:"0008",title:"专业层面",url:"/zhuanye"},{id:"0009",title:"课程层面",url:"/kecheng"}],t=e.map(function(e,t){return e.key=t+1,e}),a=[{id:"1",title:"会计专业",url:"kuaiji"},{id:"2",title:"计算机网络技术专业",url:"jisuanji"},{id:"3",title:"汽车电子技术专业",url:"qichedianzi"},{id:"4",title:"汽车营销与服务专业",url:"qicheyinxiao"},{id:"5",title:"汽车运用维修专业",url:"yicheyunyong"},{id:"6",title:"数控技术专业",url:"shukong"}].map(function(e,t){return e.key=t+1,e});n.setState({menus:t,currentMenu:e[0].title,majorMenus:a}),n.getMajorData()},n.handleGoTo=function(e){localStorage.setItem("menuItem",JSON.stringify(e)),n.setState({currentMenu:e.title}),n.props.history.push(e.url),"0001"!==e.id&&"0002"!==e.id&&"0003"!==e.id&&"0004"!==e.id?n.props.resetCarouselTitle(-1):n.props.resetCarouselTitle(0),n.props.filterMajor("0"),n.props.toggleMajorMenu(!1),"0008"===e.id?(n.getMajorData(),n.setState({isShowLevel2Menu:!0})):"0009"===e.id?(n.getCourseData(),n.setState({isShowLevel2Menu:!0})):n.setState({isShowLevel2Menu:!1})},n.handleFilterMajorMenu=function(e){n.props.filterMajor(e.id)},n.gotoWel=function(){n.props.history.push("/welcome")},n.changeValue=function(e){n.setState({currentLevel2Menu:e.target.value});var t=JSON.parse(JSON.stringify(n.state.level2MenusOld)).filter(function(t){return t.name.indexOf(e.target.value)>-1});n.setState({level2Menus:t})},n.handleChangeLevel2Menu=function(e){n.setState({currentLevel2Menu:e.name}),n.props.changeCurrentLevel2Menu(e),n.setState({level2Menus:n.state.level2MenusOld})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"getMajorData",value:function(){var e=this;Object(b.a)("/bigdata/basic/info/queryMajorList").then(function(t){t.success&&t.obj[0]&&(e.setState({level2Menus:t.obj,level2MenusOld:t.obj,currentLevel2Menu:t.obj[0].name}),e.props.changeCurrentLevel2Menu(t.obj[0]))})}},{key:"getCourseData",value:function(){var e=this;Object(b.a)("/bigdata/basic/info/queryCourseList").then(function(t){t.success&&t.obj[0]&&(e.setState({level2Menus:t.obj,level2MenusOld:t.obj,currentLevel2Menu:t.obj[0].name},function(){console.log(e.state.level2Menus,333)}),e.props.changeCurrentLevel2Menu(t.obj[0]))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.menus,a=t.currentMenu,r=t.majorMenus,u=t.currentLevel2Menu,i=t.level2Menus,c=t.isShowLevel2Menu,o=this.props,s=o.currentMajorMenu,m=o.majorMenuStatus,d=o.carouselTitle;return l.a.createElement("div",{className:"header-wrapper"},l.a.createElement("div",{className:"home"},l.a.createElement(p.a,{onClick:this.gotoWel,type:"home",theme:"filled",style:{fontSize:27,color:"#fff",marginLeft:20,cursor:"pointer"}})),l.a.createElement("div",{className:"other"},l.a.createElement("div",{className:"other-title"},"质量体系诊断与改进平台"),l.a.createElement("div",{className:"other-menu"},a,l.a.createElement("div",{className:"other-sub-menu"},n.map(function(t){return l.a.createElement("div",{key:t.key,onClick:function(){e.handleGoTo(t)},className:a===t.title?"item active":"item"},t.title)}))),l.a.createElement("div",{className:"other-menu other-menu-type",style:{display:m?"block":"none"}},s,l.a.createElement("div",{className:"other-sub-menu other-sub-menu-type"},r.map(function(t){return l.a.createElement("div",{key:t.key,onClick:function(){e.handleFilterMajorMenu(t)},className:s===t.title?"item active":"item"},t.title)}))),l.a.createElement("div",{className:"other-menu other-menu-type",style:{display:c?"block":"none"}},l.a.createElement("input",{type:"text",value:u,style:{background:"transparent",border:"none",textAlign:"center",outline:"none"},onChange:this.changeValue}),l.a.createElement("div",{className:"other-sub-menu other-sub-menu-type"},i.map(function(t){return l.a.createElement("div",{key:t.code,onClick:function(){e.handleChangeLevel2Menu(t)},className:u===t.name?"item active":"item"},t.name)}))),l.a.createElement("div",{className:"other-line ".concat(m||c?"other-line-toggle":null)}),l.a.createElement("div",{className:"carousel-title"},d)))}}]),t}(o.Component),k=Object(v.a)(Object(f.b)(function(e){return{carouselTitle:e.carouselTitleReducer.carouseltitle,majorMenuStatus:e.isShowMajorMenuReducer.majorMenuStatus,currentMajorMenu:e.majorMenuReducer.currentMajorMenu,currentLevel2Menu:e.level2MenuReducer.currentLevel2Menu}},function(e){return{resetCarouselTitle:function(t){var n=Object(j.a)(t);e(n)},filterMajor:function(t){var n=Object(M.a)(t);e(n)},toggleMajorMenu:function(t){var n=Object(g.a)(t);e(n)},changeCurrentLevel2Menu:function(t){var n=function(e){return{type:y.a,obj:e}}(t);e(n)}}})(O)),w=n(95);n.d(t,"default",function(){return J});var E=Object(w.a)(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,1835))}),S=Object(w.a)(function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,1836))}),x=Object(w.a)(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,1838))}),L=Object(w.a)(function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,1837))}),C=Object(w.a)(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,1843))}),N=Object(w.a)(function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,1839))}),P=Object(w.a)(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,1842))}),T=Object(w.a)(function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,1840))}),D=Object(w.a)(function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,1841))}),J=function(e){function t(){return Object(a.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"main-wrapper"},l.a.createElement(k,null),l.a.createElement("div",{className:"body-wrapper"},l.a.createElement(s.a,null,l.a.createElement(m.a,{path:"/dabiao",exact:!0,component:E}),l.a.createElement(m.a,{path:"/xianghao",exact:!0,component:S}),l.a.createElement(m.a,{path:"/xiangcha",exact:!0,component:x}),l.a.createElement(m.a,{path:"/yujing",exact:!0,component:L}),l.a.createElement(m.a,{path:"/xuexiao",exact:!0,component:C}),l.a.createElement(m.a,{path:"/jiaoshi",exact:!0,component:N}),l.a.createElement(m.a,{path:"/xuesheng",exact:!0,component:P}),l.a.createElement(m.a,{path:"/zhuanye",exact:!0,component:T}),l.a.createElement(m.a,{path:"/kecheng",exact:!0,component:D}),l.a.createElement(m.a,{path:"/",render:function(e){return l.a.createElement(d.a,{to:"/welcome"})}}))))}}]),t}(o.Component)},918:function(e,t,n){"use strict";n(906);var a=n(907),r=n.n(a),u=n(909),i=n.n(u),c=n(910),o=n.n(c),l=n(222),s=n(53),m=function(e){return{type:s.c,bool:e}},d=n(925),h=n(95);n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var p=["application/json","application/x-www-form-urlencoded;charset=UTF-8"],f={baseURL:"",timeout:1e4,headers:{post:{"Content-Type":p[0]}}},v=i.a.create(f),b=0,j=!0,M=p[0];v.interceptors.request.use(function(e){if(j&&b++,b>0){var t=m(!0);l.a.dispatch(t)}return e},function(e){return Promise.reject(e)}),v.interceptors.response.use(function(e){if(j&&b--,b<=0){b=0;var t=m(!1);l.a.dispatch(t)}else{var n=m(!0);l.a.dispatch(n)}var a=e.data;if(a.success)return{success:!0,obj:a.obj};if("403"===a.errorCode){Object(h.b)();var r=Object(d.a)(!1);return l.a.dispatch(r),{success:!1}}return{success:!1,obj:a.msg}},function(e){if(e&&e.response){switch(e.response.status){case 400:r.a.warn("请求错误");break;case 401:r.a.warn("未授权，请重新登录");break;case 403:r.a.warn("拒绝访问");break;case 404:r.a.warn("请求出错");break;case 408:r.a.warn("请求超时");break;case 500:r.a.warn("服务器错误");break;case 501:r.a.warn("服务未实现");break;case 502:r.a.warn("网络错误");break;case 503:r.a.warn("服务不可用");break;case 504:r.a.warn("网络超时(504)");break;case 505:r.a.warn("HTTP版本不受支持");break;default:r.a.warn("连接出错!")}if(--b<=0){var t=m(!1);l.a.dispatch(t)}return Promise.reject(e)}if(r.a.warn("请求超时"),--b<=0){var n=m(!1);l.a.dispatch(n)}return Promise.reject(e)});var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return j=!n||1!==n,v.get(e,{params:t})},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;j=!n||1!==n;var r,u=p[a]||M;return u===p[1]?r=o.a.stringify(t):u===p[0]&&(r=JSON.stringify(t)),v.post(e,r,{headers:{"Content-Type":u}})}},924:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return{type:e}}},925:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(53),r=function(e){return{type:a.b,bool:e}}},926:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){return{type:e}}},927:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(53),r=function(e){return{type:a.d,bool:e}}},940:function(e,t,n){}}]);
//# sourceMappingURL=3.05e59205.chunk.js.map